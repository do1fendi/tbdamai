{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"C:/xampp/htdocs/tbdamai/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/xampp/htdocs/tbdamai/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/tbdamai/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useContext } from 'react';\nimport { StoreContext } from '../../store/store';\nexport default function NavLoginForm() {\n  var ctx = useContext(StoreContext);\n\n  var _useState = useState({\n    username: \"\",\n    password: \"\"\n  }),\n      form = _useState[0],\n      setForm = _useState[1];\n\n  function webLogin() {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var rawResponse, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"\".concat(process.env.BASEURL, \"/login\"), {\n                method: 'POST',\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(form)\n              });\n\n            case 2:\n              rawResponse = _context.sent;\n              _context.next = 5;\n              return rawResponse.json();\n\n            case 5:\n              res = _context.sent;\n              console.log(res); // if login success\n\n              if (res.token) {\n                console.log(ctx.login);\n                ctx.login;\n                console.log(ctx.login);\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      value: form.username,\n      onChange: function onChange(e) {\n        return setForm(_objectSpread(_objectSpread({}, form), {}, {\n          username: e.target.value\n        }));\n      },\n      type: \"text\",\n      className: \"w-full border border-sinbad-500 px-3 py-1 rounded-lg shadow-sm mb-2 focus:outline-none focus:border-sinbad-500 focus:ring-1 focus:ring-sinbad-500\",\n      placeholder: \"Username\"\n    }), /*#__PURE__*/_jsx(\"input\", {\n      value: form.password,\n      onChange: function onChange(e) {\n        return setForm(_objectSpread(_objectSpread({}, form), {}, {\n          password: e.target.value\n        }));\n      },\n      type: \"password\",\n      className: \"w-full border border-sinbad-500 px-3 py-1 rounded-lg shadow-sm focus:outline-none focus:border-sinbad-500 focus:ring-1 focus:ring-sinbad-500\",\n      placeholder: \"Password\"\n    }), /*#__PURE__*/_jsx(\"button\", {\n      onClick: function onClick() {\n        return webLogin();\n      },\n      className: \"bg-sinbad-700 hover:bg-sinbad-900 text-white font-bold py-1 px-4 rounded-lg mt-2 w-full focus:outline-none\",\n      children: \"Login\"\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}